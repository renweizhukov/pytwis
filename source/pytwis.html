<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pytwis package &#8212; pytwis 0.4.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="pytwis" href="modules.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          pytwis</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Modules:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pytwis</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">pytwis package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pytwis.pytwis">pytwis.pytwis module</a></li>
<li><a class="reference internal" href="#module-pytwis.pytwis_clt">pytwis.pytwis_clt module</a></li>
<li><a class="reference internal" href="#module-pytwis">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="modules.html" title="Previous Chapter: pytwis"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; pytwis</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/source/pytwis.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">pytwis package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pytwis.pytwis">pytwis.pytwis module</a></li>
<li><a class="reference internal" href="#module-pytwis.pytwis_clt">pytwis.pytwis_clt module</a></li>
<li><a class="reference internal" href="#module-pytwis">Module contents</a></li>
</ul>
</li>
</ul>

  <li>
    <a href="modules.html" title="Previous Chapter: pytwis"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; pytwis</span>
    </a>
  </li>
<div id="sourcelink">
  <a href="../_sources/source/pytwis.rst.txt"
     rel="nofollow">Source</a>
</div>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="pytwis-package">
<h1>pytwis package<a class="headerlink" href="#pytwis-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytwis.pytwis">
<span id="pytwis-pytwis-module"></span><h2>pytwis.pytwis module<a class="headerlink" href="#module-pytwis.pytwis" title="Permalink to this headline">¶</a></h2>
<p>pytwis – A Twitter-toy-clone backend using Python and Redis.</p>
<p>This module implements the backend for a simplified Twitter clone based on Redis.
We follow the Redis tutorial (<a class="reference external" href="https://redis.io/topics/twitter-clone">https://redis.io/topics/twitter-clone</a>) to design
the data layout of the Redis database.</p>
<p>It supports the following features:</p>
<ul class="simple">
<li>Register new users</li>
<li>Log in/out</li>
<li>Change user password</li>
<li>Post tweets</li>
<li>Follower/Following</li>
<li>General timeline for anonymous user</li>
<li>User timeline</li>
<li>Get tweets posted by a user</li>
</ul>
<p>TODOs:</p>
<ul class="simple">
<li>Search users</li>
<li>Delete a user</li>
<li>Recover user password</li>
<li>#hashtags</li>
<li>&#64;mentions</li>
<li>Retweets</li>
<li>Replies</li>
<li>Conversations</li>
<li>Edit/Delete tweets</li>
<li>And more</li>
</ul>
<dl class="class">
<dt id="pytwis.pytwis.Pytwis">
<em class="property">class </em><code class="descclassname">pytwis.pytwis.</code><code class="descname">Pytwis</code><span class="sig-paren">(</span><em>hostname='127.0.0.1'</em>, <em>port=6379</em>, <em>socket=''</em>, <em>db=0</em>, <em>password=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class implements all the interfaces to the Redis database of the Twitter-toy-clone.</p>
<dl class="method">
<dt id="pytwis.pytwis.Pytwis.change_password">
<code class="descname">change_password</code><span class="sig-paren">(</span><em>auth_secret</em>, <em>old_password</em>, <em>new_password</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.change_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the user password.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_secret</strong> (<em>str</em>) – The authentication secret which will be used for user authentication.</li>
<li><strong>old_password</strong> (<em>str</em>) – The old password before the change.</li>
<li><strong>new_password</strong> (<em>str</em>) – The new password after the change.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the password is successfully changed, False otherwise.</li>
<li><em>result</em> – A dict containing the new authentication secret with the key PytwisConstant.AUTH_KEY
if the password is successfully changed, a dict containing the error
string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NEW_PASSWORD_NO_CHANGE</li>
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
<li>PytwisConstant.ERROR_INCORRECT_OLD_PASSWORD</li>
<li>PytwisConstant.ERROR_WEAK_PASSWORD</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.follow">
<code class="descname">follow</code><span class="sig-paren">(</span><em>auth_secret</em>, <em>followee_username</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.follow" title="Permalink to this definition">¶</a></dt>
<dd><p>Follow a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</li>
<li><strong>followee_username</strong> (<em>str</em>) – The username of the followee.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the follow is successful, False otherwise.</li>
<li><em>result</em> – None if the follow is successful, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
<li>PytwisConstant.ERROR_FOLLOWEE_NOT_EXIST_FORMAT.format(followee_username)</li>
<li>PytwisConstant.ERROR_FOLLOW_YOURSELF_FORMAT.format(followee_username)</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.get_followers">
<code class="descname">get_followers</code><span class="sig-paren">(</span><em>auth_secret</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.get_followers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the follower list of a logged-in user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>bool</em> – True if the follower list is successfully obtained, False otherwise.</li>
<li><em>result</em> – A dict containing the follower list with the key PytwisConstant.FOLLOWER_LIST_KEY
if the follower list is successfully obtained, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.get_following">
<code class="descname">get_following</code><span class="sig-paren">(</span><em>auth_secret</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.get_following" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the following list of a logged-in user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>bool</em> – True if the following list is successfully obtained, False otherwise.</li>
<li><em>result</em> – A dict containing the following list with the key PytwisConstant.FOLLOWING_LIST_KEY
if the follower list is successfully obtained, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.get_timeline">
<code class="descname">get_timeline</code><span class="sig-paren">(</span><em>auth_secret</em>, <em>max_cnt_tweets</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.get_timeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the general or user timeline.</p>
<p>If an empty authentication secret is given, this method will return the general timeline.
If an authentication secret is given and it is valid, this method will return the user timeline.
If an authentication secret is given but it is invalid, this method will return an error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_secret</strong> (<em>str</em>) – Either the authentication secret of the logged-in user or an empty string.</li>
<li><strong>max_cnt_tweets</strong> (<em>int</em>) – The maximum number of tweets included in the timeline. If it is set to -1,
then all the available tweets will be included.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the timeline is successfully retrieved, False otherwise.</li>
<li><em>result</em> – A dict containing a list of tweets with the key PytwisConstant.TWEETS_KEY if
the timeline is successfully retrieved, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.get_user_profile">
<code class="descname">get_user_profile</code><span class="sig-paren">(</span><em>auth_secret</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.get_user_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the profile (i.e., username, password, etc.) of a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul>
<li><em>bool</em> – True if the logout is successful, False otherwise.</li>
<li><em>result</em> – A dict containing the following keys:<ul class="simple">
<li>USERNAME_KEY</li>
<li>PASSWORD_HASH_KEY</li>
<li>AUTH_KEY</li>
</ul>
<p>if the user profile is obtained successfully; otherwise a dict containing the error string
with the key PytwisConstant.ERROR_KEY.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.get_user_tweets">
<code class="descname">get_user_tweets</code><span class="sig-paren">(</span><em>auth_secret</em>, <em>username</em>, <em>max_cnt_tweets</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.get_user_tweets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the tweets posted by one user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</li>
<li><strong>username</strong> – The name of the user who post the tweets and may not be the logged-in user.</li>
<li><strong>max_cnt_tweets</strong> (<em>int</em>) – The maximum number of tweets included in the return. If it is set to -1,
then all the tweets posted by the user will be included.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the tweets are successfully retrieved, False otherwise.</li>
<li><em>result</em> – A dict containing a list of tweets with the key PytwisConstant.TWEETS_KEY if
the tweets are successfully retrieved, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
<li>PytwisConstant.ERROR_USERNAME_NOT_EXIST_FORMAT.format(username)</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.login">
<code class="descname">login</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Log into a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>username</strong> (<em>str</em>) – The username.</li>
<li><strong>password</strong> (<em>str</em>) – The password.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the login is successful, False otherwise.</li>
<li><em>result</em> – A dict containing the authentication secret with the key PytwisConstant.AUTH_KEY
if the login is successful, a dict containing the error string
with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_USERNAME_NOT_EXIST_FORMAT.format(username)</li>
<li>PytwisConstant.ERROR_INCORRECT_PASSWORD</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.logout">
<code class="descname">logout</code><span class="sig-paren">(</span><em>auth_secret</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.logout" title="Permalink to this definition">¶</a></dt>
<dd><p>Log out of a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>bool</em> – True if the logout is successful, False otherwise.</li>
<li><em>result</em> – None if the logout is successful, a dict containing the error string
with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.post_tweet">
<code class="descname">post_tweet</code><span class="sig-paren">(</span><em>auth_secret</em>, <em>tweet</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.post_tweet" title="Permalink to this definition">¶</a></dt>
<dd><p>Post a tweet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</li>
<li><strong>tweet</strong> (<em>str</em>) – The tweet that will be posted.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the tweet is successfully posted, False otherwise.</li>
<li><em>result</em> – None if the tweet is successfully posted, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>username</strong> (<em>str</em>) – The username.</li>
<li><strong>password</strong> (<em>str</em>) – The password.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the new user is successfully registered, False otherwise.</li>
<li><em>result</em> – An empty dict if the new user is successfully registered, a dict
containing the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_USERNAME_ALREADY_EXISTS.format(username)</li>
<li>PytwisConstant.ERROR_WEAK_PASSWORD</li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="pytwis.pytwis.Pytwis.unfollow">
<code class="descname">unfollow</code><span class="sig-paren">(</span><em>auth_secret</em>, <em>followee_username</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis.Pytwis.unfollow" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfollow a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of the logged-in user.</li>
<li><strong>followee_username</strong> (<em>str</em>) – The username of the followee.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>bool</em> – True if the unfollow is successful, False otherwise.</li>
<li><em>result</em> – None if the unfollow is successful, a dict containing
the error string with the key PytwisConstant.ERROR_KEY otherwise.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Possible error strings are listed as below:</p>
<ul class="last simple">
<li>PytwisConstant.ERROR_NOT_LOGGED_IN</li>
<li>PytwisConstant.ERROR_FOLLOWEE_NOT_EXIST_FORMAT.format(followee_username)</li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pytwis.pytwis.PytwisConstant">
<em class="property">class </em><code class="descclassname">pytwis.pytwis.</code><code class="descname">PytwisConstant</code><a class="headerlink" href="#pytwis.pytwis.PytwisConstant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class defines all the constants used by pytwis.py.</p>
<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.AUTHS_KEY">
<code class="descname">AUTHS_KEY</code><em class="property"> = 'auths'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.AUTHS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.AUTH_KEY">
<code class="descname">AUTH_KEY</code><em class="property"> = 'auth'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.AUTH_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_FOLLOWEE_NOT_EXIST_FORMAT">
<code class="descname">ERROR_FOLLOWEE_NOT_EXIST_FORMAT</code><em class="property"> = &quot;Followee {} doesn't exist&quot;</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_FOLLOWEE_NOT_EXIST_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_FOLLOW_YOURSELF_FORMAT">
<code class="descname">ERROR_FOLLOW_YOURSELF_FORMAT</code><em class="property"> = &quot;Can't follow yourself {}&quot;</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_FOLLOW_YOURSELF_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_INCORRECT_OLD_PASSWORD">
<code class="descname">ERROR_INCORRECT_OLD_PASSWORD</code><em class="property"> = 'Incorrect old password'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_INCORRECT_OLD_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_INCORRECT_PASSWORD">
<code class="descname">ERROR_INCORRECT_PASSWORD</code><em class="property"> = 'Incorrect password'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_INCORRECT_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_INVALID_USERNAME">
<code class="descname">ERROR_INVALID_USERNAME</code><em class="property"> = &quot;Invalid username. A valid username must \n                             * have 3 characters more;\n                             * have only letters (either uppercase or lowercase), digits, '_', or '-';\n                             * start with a letter.\n                             &quot;</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_INVALID_USERNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_KEY">
<code class="descname">ERROR_KEY</code><em class="property"> = 'error'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_NEW_PASSWORD_NO_CHANGE">
<code class="descname">ERROR_NEW_PASSWORD_NO_CHANGE</code><em class="property"> = 'New password same as old one'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_NEW_PASSWORD_NO_CHANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_NOT_LOGGED_IN">
<code class="descname">ERROR_NOT_LOGGED_IN</code><em class="property"> = 'Not logged in'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_NOT_LOGGED_IN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_USERNAME_ALREADY_EXISTS">
<code class="descname">ERROR_USERNAME_ALREADY_EXISTS</code><em class="property"> = 'username {} already exists'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_USERNAME_ALREADY_EXISTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_USERNAME_NOT_EXIST_FORMAT">
<code class="descname">ERROR_USERNAME_NOT_EXIST_FORMAT</code><em class="property"> = &quot;username {} doesn't exist&quot;</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_USERNAME_NOT_EXIST_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.ERROR_WEAK_PASSWORD">
<code class="descname">ERROR_WEAK_PASSWORD</code><em class="property"> = 'Weak password. A strong password must have \n                          * 8 characters or more;\n                          * 1 digit or more;\n                          * 1 uppercase letter or more;\n                          * 1 lowercase letter or more;\n                          * 1 symbol (excluding whitespace characters) or more.\n                          '</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.ERROR_WEAK_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.FOLLOWER_KEY_FORMAT">
<code class="descname">FOLLOWER_KEY_FORMAT</code><em class="property"> = 'follower:{}'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.FOLLOWER_KEY_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.FOLLOWER_LIST_KEY">
<code class="descname">FOLLOWER_LIST_KEY</code><em class="property"> = 'follower_list'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.FOLLOWER_LIST_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.FOLLOWING_KEY_FORMAT">
<code class="descname">FOLLOWING_KEY_FORMAT</code><em class="property"> = 'following:{}'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.FOLLOWING_KEY_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.FOLLOWING_LIST_KEY">
<code class="descname">FOLLOWING_LIST_KEY</code><em class="property"> = 'following_list'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.FOLLOWING_LIST_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.GENERAL_TIMELINE_KEY">
<code class="descname">GENERAL_TIMELINE_KEY</code><em class="property"> = 'timeline'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.GENERAL_TIMELINE_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.GENERAL_TIMELINE_MAX_TWEET_CNT">
<code class="descname">GENERAL_TIMELINE_MAX_TWEET_CNT</code><em class="property"> = 1000</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.GENERAL_TIMELINE_MAX_TWEET_CNT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.NEXT_TWEET_ID_KEY">
<code class="descname">NEXT_TWEET_ID_KEY</code><em class="property"> = 'next_tweet_id'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.NEXT_TWEET_ID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.NEXT_USER_ID_KEY">
<code class="descname">NEXT_USER_ID_KEY</code><em class="property"> = 'next_user_id'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.NEXT_USER_ID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.PASSWORD_HASH_KEY">
<code class="descname">PASSWORD_HASH_KEY</code><em class="property"> = 'password_hash'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.PASSWORD_HASH_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.PASSWORD_HASH_METHOD">
<code class="descname">PASSWORD_HASH_METHOD</code><em class="property"> = 'pbkdf2:sha512'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.PASSWORD_HASH_METHOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.REDIS_SOCKET_CONNECT_TIMEOUT">
<code class="descname">REDIS_SOCKET_CONNECT_TIMEOUT</code><em class="property"> = 60</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.REDIS_SOCKET_CONNECT_TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.TWEETS_KEY">
<code class="descname">TWEETS_KEY</code><em class="property"> = 'tweets'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.TWEETS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.TWEET_BODY_KEY">
<code class="descname">TWEET_BODY_KEY</code><em class="property"> = 'body'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.TWEET_BODY_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.TWEET_KEY_FORMAT">
<code class="descname">TWEET_KEY_FORMAT</code><em class="property"> = 'tweet:{}'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.TWEET_KEY_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.TWEET_UNIXTIME_KEY">
<code class="descname">TWEET_UNIXTIME_KEY</code><em class="property"> = 'unix_time'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.TWEET_UNIXTIME_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.TWEET_USERID_KEY">
<code class="descname">TWEET_USERID_KEY</code><em class="property"> = 'userid'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.TWEET_USERID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.USERNAME_KEY">
<code class="descname">USERNAME_KEY</code><em class="property"> = 'username'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.USERNAME_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.USERS_KEY">
<code class="descname">USERS_KEY</code><em class="property"> = 'users'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.USERS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.USER_PROFILE_KEY_FORMAT">
<code class="descname">USER_PROFILE_KEY_FORMAT</code><em class="property"> = 'user:{}'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.USER_PROFILE_KEY_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.USER_TIMELINE_KEY_FORMAT">
<code class="descname">USER_TIMELINE_KEY_FORMAT</code><em class="property"> = 'timeline:{}'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.USER_TIMELINE_KEY_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis.PytwisConstant.USER_TWEETS_KEY_FORMAT">
<code class="descname">USER_TWEETS_KEY_FORMAT</code><em class="property"> = 'tweets_by:{}'</em><a class="headerlink" href="#pytwis.pytwis.PytwisConstant.USER_TWEETS_KEY_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pytwis.pytwis_clt">
<span id="pytwis-pytwis-clt-module"></span><h2>pytwis.pytwis_clt module<a class="headerlink" href="#module-pytwis.pytwis_clt" title="Permalink to this headline">¶</a></h2>
<p>A command-line tool which uses <cite>pytwis</cite> to interact with the Redis database of a Twitter toy clone.</p>
<p>To see the help information,</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./pytwis_clt.py -h
$ ./pytwis_clt.py --help
</pre></div>
</div>
<p>After launching <cite>pytwis_clt.py</cite>, you will be able to use the following commands:</p>
<ul class="simple">
<li>Register a new user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">register</span> <span class="p">{</span><span class="n">username</span><span class="p">}</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Log into a user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">login</span> <span class="p">{</span><span class="n">username</span><span class="p">}</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Log out of a user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">logout</span>
</pre></div>
</div>
<ul class="simple">
<li>Change the password:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">changepwd</span> <span class="p">{</span><span class="n">old_password</span><span class="p">}</span> <span class="p">{</span><span class="n">new_password</span><span class="p">}</span> <span class="p">{</span><span class="n">confirmed_new_password</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Get the profile of the current user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">userprofile</span>
</pre></div>
</div>
<ul class="simple">
<li>Post a tweet:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">post</span> <span class="p">{</span><span class="n">tweet</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Follow a user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">follow</span> <span class="p">{</span><span class="n">followee_username</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Unfollow a user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">unfollow</span> <span class="p">{</span><span class="n">followee_username</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Get the follower list:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">followers</span>
</pre></div>
</div>
<ul class="simple">
<li>Get the following list:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">followings</span>
</pre></div>
</div>
<ul class="simple">
<li>Get the timeline:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">timeline</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">timeline</span> <span class="p">{</span><span class="n">max_tweet_count</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that if a user is logged in, <cite>timeline</cite> will return the user timeline;
otherwise <cite>timeline</cite> will return the general timeline.</p>
<ul class="simple">
<li>Get the tweets posted by a user:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">tweetsby</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">tweetsby</span> <span class="p">{</span><span class="n">username</span><span class="p">}</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">tweetsby</span> <span class="p">{</span><span class="n">username</span><span class="p">}</span> <span class="p">{</span><span class="n">max_tweet_count</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that if no username is given, <cite>tweetsby</cite> will return the tweets posted
by the currently logged-in user.</p>
<ul class="simple">
<li>Exit the program:</li>
</ul>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">exit</span>
<span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6379</span><span class="o">&gt;</span> <span class="n">quit</span>
</pre></div>
</div>
<dl class="class">
<dt id="pytwis.pytwis_clt.CmdConstant">
<em class="property">class </em><code class="descclassname">pytwis.pytwis_clt.</code><code class="descname">CmdConstant</code><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class defines all the constants used by pytwis_clt.py.</p>
<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_CONFIRMED_NEW_PASSWORD">
<code class="descname">ARG_CONFIRMED_NEW_PASSWORD</code><em class="property"> = 'confirmed_new_password'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_CONFIRMED_NEW_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_FOLLOWEE">
<code class="descname">ARG_FOLLOWEE</code><em class="property"> = 'followee'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_FOLLOWEE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_MAX_TWEETS">
<code class="descname">ARG_MAX_TWEETS</code><em class="property"> = 'max_cnt_tweets'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_MAX_TWEETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_NEW_PASSWORD">
<code class="descname">ARG_NEW_PASSWORD</code><em class="property"> = 'new_password'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_NEW_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_OLD_PASSWORD">
<code class="descname">ARG_OLD_PASSWORD</code><em class="property"> = 'old_password'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_OLD_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_PASSWORD">
<code class="descname">ARG_PASSWORD</code><em class="property"> = 'password'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_TWEET">
<code class="descname">ARG_TWEET</code><em class="property"> = 'tweet'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_TWEET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.ARG_USERNAME">
<code class="descname">ARG_USERNAME</code><em class="property"> = 'username'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.ARG_USERNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_CHANGE_PASSWORD">
<code class="descname">CMD_CHANGE_PASSWORD</code><em class="property"> = 'changepwd'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_CHANGE_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_EXIT">
<code class="descname">CMD_EXIT</code><em class="property"> = 'exit'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_EXIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_FOLLOW">
<code class="descname">CMD_FOLLOW</code><em class="property"> = 'follow'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_FOLLOW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_GET_FOLLOWERS">
<code class="descname">CMD_GET_FOLLOWERS</code><em class="property"> = 'followers'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_GET_FOLLOWERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_GET_FOLLOWINGS">
<code class="descname">CMD_GET_FOLLOWINGS</code><em class="property"> = 'followings'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_GET_FOLLOWINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_GET_USER_PROFILE">
<code class="descname">CMD_GET_USER_PROFILE</code><em class="property"> = 'userprofile'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_GET_USER_PROFILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_GET_USER_TWEETS">
<code class="descname">CMD_GET_USER_TWEETS</code><em class="property"> = 'tweetsby'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_GET_USER_TWEETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_LOGIN">
<code class="descname">CMD_LOGIN</code><em class="property"> = 'login'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_LOGIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_LOGOUT">
<code class="descname">CMD_LOGOUT</code><em class="property"> = 'logout'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_LOGOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_POST">
<code class="descname">CMD_POST</code><em class="property"> = 'post'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_POST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_QUIT">
<code class="descname">CMD_QUIT</code><em class="property"> = 'quit'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_QUIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_REGISTER">
<code class="descname">CMD_REGISTER</code><em class="property"> = 'register'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_REGISTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_TIMELINE">
<code class="descname">CMD_TIMELINE</code><em class="property"> = 'timeline'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_TIMELINE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pytwis.pytwis_clt.CmdConstant.CMD_UNFOLLOW">
<code class="descname">CMD_UNFOLLOW</code><em class="property"> = 'unfollow'</em><a class="headerlink" href="#pytwis.pytwis_clt.CmdConstant.CMD_UNFOLLOW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pytwis.pytwis_clt.print_tweets">
<code class="descclassname">pytwis.pytwis_clt.</code><code class="descname">print_tweets</code><span class="sig-paren">(</span><em>tweets</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis_clt.print_tweets" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a list of tweets one by one separated by “=”s.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tweets</strong> (<em>list</em><em>(</em><em>dict</em><em>)</em>) – A list of tweets. Each tweet is a dict containing the username of the tweet’s author, the post time,
and the tweet body.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytwis.pytwis_clt.pytwis_cli">
<code class="descclassname">pytwis.pytwis_clt.</code><code class="descname">pytwis_cli</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis_clt.pytwis_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>The main routine of this command-line tool.</p>
</dd></dl>

<dl class="function">
<dt id="pytwis.pytwis_clt.pytwis_command_parser">
<code class="descclassname">pytwis.pytwis_clt.</code><code class="descname">pytwis_command_parser</code><span class="sig-paren">(</span><em>raw_command</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis_clt.pytwis_command_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the command input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_command</strong> (<em>str</em>) – The raw command input, e.g., <cite>register xxxxxx yyyyyy</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>command_with_args</strong> – The parsed command output. The first element of the list is the command type, e.g., ‘register’,
and the second element is the command arguments, e.g., {‘username’: &lt;username&gt;, ‘password’: &lt;password&gt;}
for <cite>register</cite>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(str, dict(str, str or int))</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – If the raw command can’t be parsed correctly, e.g., it has an incorrect number of arguments or
incorrect arguments.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytwis.pytwis_clt.pytwis_command_processor">
<code class="descclassname">pytwis.pytwis_clt.</code><code class="descname">pytwis_command_processor</code><span class="sig-paren">(</span><em>twis</em>, <em>auth_secret</em>, <em>command_with_args</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis_clt.pytwis_command_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the parsed command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>twis</strong> (<a class="reference internal" href="#pytwis.pytwis.Pytwis" title="pytwis.pytwis.Pytwis"><em>Pytwis</em></a>) – A Pytwis instance which interacts with the Redis database of the Twitter toy clone.</li>
<li><strong>auth_secret</strong> (<em>str</em>) – The authentication secret of a logged-in user.</li>
<li><strong>command_with_args</strong> – The parsed command output by pytwis_command_parser().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytwis.pytwis_clt.validate_command">
<code class="descclassname">pytwis.pytwis_clt.</code><code class="descname">validate_command</code><span class="sig-paren">(</span><em>raw_command</em><span class="sig-paren">)</span><a class="headerlink" href="#pytwis.pytwis_clt.validate_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the command input.</p>
<p>Currently we only check the number of arguments according to the command type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_command</strong> (<em>str</em>) – The raw command input, e.g., <cite>register xxxxxx yyyyyy</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – If the raw command input doesn’t have the correct number of arguments.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pytwis">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pytwis" title="Permalink to this headline">¶</a></h2>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Wei Ren.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>